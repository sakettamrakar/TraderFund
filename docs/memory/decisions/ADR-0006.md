# ADR-0006: Layered Plane Architecture (DWBS)

**Status**: Accepted
**Date**: 2026-01-24
**Context**: Complex distributed systems often suffer from "dependency hell" and implicit coupling (Strategies inferring Regime, HFT driving Macro). We need a strict architecture that enforces **Epistemics Precede Execution**.

## Decision

The system is structured into **Five Structural Planes** (Control, Orchestration, Strategy, Structural Activation, Scale & Safety), each gated by the completion of the previous plane. Cross-plane shortcuts are **FORBIDDEN**.

- **Control Plane**: Establishes epistemic foundations (Beliefs, Policies).
- **Orchestration Plane**: Enables task-driven execution (Task Graph).
- **Strategy Plane**: Registers governed strategy intent.
- **Structural Activation Plane**: Promotes latent layers (Macro, Factor) to operational.
- **Scale & Safety Plane**: Enables multi-strategy, fault-tolerant operation.

## Rationale

- **Gatekeeping**: Ensures no execution happens without explicit Policy and Belief context.
- **Visibility**: Exposes hidden dependencies (e.g., Strategy -> Task Graph -> Policy).
- **Safety**: Prevents premature activation (e.g., HFT before Risk Limits).

## Alternatives

- **Monolithic App**: Single Python process handling everything. Rejected as unscalable/untestable.
- **Microservices Mesh**: Loose services communicating via queues. Rejected for this phase (too complex for single-node validation).
- **Component-Based**: Libraries calling each other ad-hoc. Rejected as it allows circular dependencies and implicit state coupling.

## Consequences

- **Rigidity**: Adding a feature usually requires touching multiple planes (Policy -> Task -> Strategy -> Activation).
- **Order**: Development MUST follow the plane sequence (Control -> Orchestration -> Strategy...).
- **Explicit Wiring**: All connections between layers must be explicitly defined in Task Graphs and Dependency Maps.

## Evidence

- `docs/architecture/DWBS.md`: The 5 Planes
- `docs/epistemic/ledger/decisions.md`: D009, D010, D011, D012, D012.5, D013
