# Expansion Transition Schema
**Version**: 1.0.0
**Type**: Diagnostic Output
**Layer**: Evolution (Watcher)

## Overview
This schema defines the output for `expansion_transition.json`, generated by the `ExpansionTransitionWatcher`. It detects structural shifts from stagnant to expanding market conditions.

## Schema Definition
```yaml
expansion_transition:
  version: "1.0.0"
  computed_at: ISO8601_TIMESTAMP
  window_id: string
  regime: string

  state:
    type: enum
    values:
      - NONE                  # Stagnant / Stable
      - EARLY_EXPANSION       # Volatility Expanding
      - CONFIRMED_EXPANSION   # Volatility + Breadth/Dispersion Expanding

  contributing_factors:
    volatility: string        # contracting | stable | expanding
    breadth: string           # narrow | neutral | broad
    dispersion: string        # contracting | stable | expanding

  confidence: float
  notes: string | null
```

## State Definitions
1.  **NONE**: No expansion detected.
2.  **EARLY_EXPANSION**:
    *   Condition: `volatility == expanding`
    *   Meaning: Volatility is waking up, but not yet broad-based.
3.  **CONFIRMED_EXPANSION**:
    *   Condition: `volatility == expanding` AND (`breadth == broad` OR `dispersion == expanding`)
    *   Meaning: Structural expansion suitable for momentum or dispersion strategies.
