# Paper Portfolio Schema
**Version**: 1.0.0
**Type**: Counterfactual Diagnostic
**Layer**: Evolution (Portfolio)

## Overview
This schema defines the output for `paper_portfolio.json`, generated by the `PaperPortfolioBuilder`. It measures strategy interaction, overlap, and redundancy without capital allocation or execution.

## Schema Definition
```yaml
paper_portfolio:
  version: "1.0.0"
  computed_at: ISO8601_TIMESTAMP
  window_id: string
  
  strategies:
    - strategy_id: string
      activated: boolean      # Did the strategy trigger in this window?
      weight: float           # Counterfactual equal-weight (e.g., 0.33)

  metrics:
    active_count: integer
    overlap_score: float      # Jaccard index or structural overlap proxy
    diversification_score: float # 1.0 - overlap
    redundancy_clusters:      # List of strategies triggering identically
      - list[strategy_id]
  
  constraints:
    execution_disabled: true
    capital_committed: 0.0
```

## Metrics Logic
*   **Active Count**: Number of strategies that passed all gating checks (Regime + Factor).
*   **Overlap Score**: 
    *   If Active Count <= 1: 0.0
    *   Otherwise: (Intersection of Active Strategies / Union of Active Strategies). Since here strategies are "Active" or "Not" per window, the overlap is simply 1.0 if >1 active, but we can be smarter:
    *   *Refinement*: We are looking at "Activation Coincidence". If multiple strategies activate in the same window, overlap = HIGH.
*   **Redundancy Clusters**: Groups of strategies that activate together.
